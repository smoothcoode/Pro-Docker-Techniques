# Single stage Angular Dockerfile with ng serve
FROM node:18-alpine
# Set working directory
WORKDIR /app
# Copy package files
COPY package*.json ./
COPY angular.json ./
COPY tsconfig*.json ./
# Install all dependencies
RUN npm install -g @angular/cli
RUN npm install
# Copy source code
COPY . .
# Expose Angular dev server port
EXPOSE 4200
# Start Angular development server
CMD ["ng", "serve", "--host", "0.0.0.0", "--poll", "1000"]